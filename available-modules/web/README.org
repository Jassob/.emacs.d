# -*- indent-tabs-mode: nil; -*-
#+TITLE: Web module
#+AUTHOR: Jassob
#+DATE: <2018-07-29>

* About this file
  This file contains the literate source of the Web module.

* Module

  I use =web-mode= for when I have to do web programming and then I'll
  want to load my ~common-code-mode~.

  #+begin_src emacs-lisp :tangle module.el
    (use-package web :ensure t :defer t
       :init
       (add-hook 'web-mode-hook 'common-code-mode)
       (add-to-list 'auto-mode-alist '("\\.tsx\\'".web-mode))
       (add-to-list 'auto-mode-alist '("\\.dtl\\'".web-mode))
       (add-hook 'web-mode-hook
                 (lambda()
                   (when(string-equal "tsx"(file-name-extension buffer-file-name))
                     (tide-mode)
                     (flycheck-add-mode 'typescript-tslint 'web-mode)
                     (flycheck-add-next-checker 'typescript-tslint 'jsx-tide 'append))))
       :config
       (if web-mode-engines-alist
           (add-to-list 'web-mode-engines-alist '("django". "\\.dtl$\\'"))
           (setq web-mode-engines-alist '(("django" . "\\.dtl$\\'")))))
  #+end_src

  I sometimes code typescript and there exists a package called
  =tide= (Typescript Interactive Development Environment for Emacs)
  that I'd like to make use of.

  #+begin_src emacs-lisp : tangle module.el
    (use-package tide :ensure t :defer t
      :config
      (tide-setup)
      (tide-hl-identifier-mode t)
      (setq-local company-tooltip-align-annotations t)
      (add-hook 'before-save-hook 'tide-format-before-save))
  #+end_src
